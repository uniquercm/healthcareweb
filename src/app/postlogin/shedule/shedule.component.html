<div class="header">
    <h3>SCHEDULE</h3>
</div>

<div class="p-4">
    <mat-card>
        <mat-horizontal-stepper labelPosition="bottom" #stepper>
            <mat-step [stepControl]="firstFormGroup">
                <form [formGroup]="firstFormGroup">
                    <ng-template matStepLabel>Initial PCR test</ng-template>
                    <div class="row">
                        <div class="col-lg-4 col-md-2 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Conducted Date</mat-label>
                                <input matInput [matDatepicker]="picker" formControlName="conducteddate">
                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker touchUi #picker></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-4 col-md-2 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Result</mat-label>
                                <mat-select formControlName="result" (selectionChange)="radioChange($event)">
                                    <mat-option value='p'>Positive </mat-option>
                                    <mat-option value='n'> Negative</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-4 col-md-2 col-sm-12 margin-auto">
                            <section class="example-section">
                                <label class="example-margin mr-5">Vaccine Status</label>
                                <mat-radio-group formControlName="vaccinestatus" (change)="radioChange($event)">
                                    <mat-radio-button class="example-margin" value="yes">Yes</mat-radio-button>
                                    <mat-radio-button class="example-margin ml-5" value="no">No</mat-radio-button>
                                </mat-radio-group>
                            </section>
                        </div>
                        <div class="col-lg-4 col-md-2 col-sm-12" *ngIf="dischargedate">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Dischage Date</mat-label>
                                <input matInput [matDatepicker]="picker" readonly formControlName="dischargedate">
                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker touchUi #picker></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <!-- <section class="example-section" *ngIf="check"> 
                            <mat-checkbox class="example-margin" formControlName="quarantine"  (change)="showOptions($event)" >Quarantine Duration</mat-checkbox>
                            <mat-checkbox class="example-margin" formControlName="isolation"  (change)="showisolation($event)" >Isolation Duration</mat-checkbox>
                        </section> -->
                        <section class="example-section" *ngIf="check">
                            <mat-radio-group formControlName="quarantine" (change)="showOptions($event)">
                                <mat-radio-button class="example-margin" value="q">Quarantine Duration
                                </mat-radio-button>
                                <mat-radio-button class="example-margin ml-5" value="i">Isolation Duration
                                </mat-radio-button>
                            </mat-radio-group>
                        </section>
                    </div>
                    <div class="text-end">
                        <button mat-raised-button class="login-button" matStepperNext *ngIf="check"> Next</button>
                        <button mat-raised-button class="login-button" matStepperNext *ngIf="!check"
                            (click)="save()">Save </button>

                    </div>
                </form>
            </mat-step>
            <mat-step [stepControl]="secondFormGroup" *ngIf="!discharge">
                <form [formGroup]="secondFormGroup">
                    <ng-template matStepLabel>Quarantine Duration</ng-template>
                    <div class="row">
                        <div class="col-lg-4 col-md-2 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Start Date</mat-label>
                                <input matInput [matDatepicker]="startpicker" formControlName="startdate"
                                    (dateChange)="updatedate($event, startpicker)">
                                <mat-datepicker-toggle matSuffix [for]="startpicker"></mat-datepicker-toggle>
                                <mat-datepicker touchUi #startpicker></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-4 col-md-2 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>End Date</mat-label>
                                <input matInput [matDatepicker]="endpicker" formControlName="enddate">
                                <mat-datepicker-toggle matSuffix [for]="endpicker"></mat-datepicker-toggle>
                                <mat-datepicker touchUi #endpicker></mat-datepicker>
                            </mat-form-field>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-4 col-md-2 col-sm-12">
                            <mat-card class="quar">
                                <mat-card-header>
                                    4 day PCR
                                </mat-card-header>
                                <div class="p-4">
                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Schedule Date</mat-label>
                                        <input matInput [matDatepicker]="fourpicker"  formControlName="fourpicker">
                                        <mat-datepicker-toggle matSuffix [for]="fourpicker"></mat-datepicker-toggle>
                                        <mat-datepicker touchUi #fourpicker></mat-datepicker>
                                    </mat-form-field>

                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Sampled Date</mat-label>
                                        <input matInput [matDatepicker]="fourspicker"  formControlName="fourspicker">
                                        <mat-datepicker-toggle matSuffix [for]="fourspicker"></mat-datepicker-toggle>
                                        <mat-datepicker touchUi #fourspicker></mat-datepicker>
                                    </mat-form-field>

                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Result</mat-label>
                                        <mat-select  formControlName="fourresult"> 
                                            <mat-option value='positive'>Positive </mat-option>
                                            <mat-option value='negative'> Negative</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                </div>
                            </mat-card>
                        </div>

                        <div class="col-lg-4 col-md-2 col-sm-12">
                            <mat-card class="quar">
                                <mat-card-header>
                                    8 day PCR
                                </mat-card-header>
                                <div class="p-4">
                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Schedule Date</mat-label>
                                        <input matInput [matDatepicker]="eightpicker"   formControlName="eightpicker">
                                        <mat-datepicker-toggle matSuffix [for]="eightpicker"></mat-datepicker-toggle>
                                        <mat-datepicker touchUi #eightpicker></mat-datepicker>
                                    </mat-form-field>

                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Sampled Date</mat-label>
                                        <input matInput [matDatepicker]="eightspicker"   formControlName="eightspicker">
                                        <mat-datepicker-toggle matSuffix [for]="eightspicker"></mat-datepicker-toggle>
                                        <mat-datepicker touchUi #eightspicker></mat-datepicker>
                                    </mat-form-field>

                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Result</mat-label>
                                        <mat-select   formControlName="eightresult"> 
                                            <mat-option value='positive'>Positive </mat-option>
                                            <mat-option value='negative'> Negative</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                </div>
                            </mat-card>
                        </div>

                        <div class="col-lg-4 col-md-2 col-sm-12">
                            <mat-card class="quar">
                                <mat-card-header>
                                    Discharge
                                </mat-card-header>
                                <div class="p-4">
                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Discharge Date</mat-label>
                                        <input matInput [matDatepicker]="dispicker"   formControlName="dischargepicker">
                                        <mat-datepicker-toggle matSuffix [for]="dispicker"></mat-datepicker-toggle>
                                        <mat-datepicker touchUi #dispicker></mat-datepicker>
                                    </mat-form-field>
                                </div>
                            </mat-card>
                        </div>
                    </div>

                    <div class="text-end">
                        <button mat-raised-button class="warning-button" matStepperPrevious>Back</button>
                        <button mat-raised-button class="login-button ml-4" (click)="save()">Save</button>
                    </div>
                </form>
            </mat-step>
            <mat-step [stepControl]="thirdFormGroup" *ngIf="!isolation">
                <ng-template matStepLabel>Isolation Duration</ng-template>
                <form [formGroup]="thirdFormGroup">
                    <div class="row">
                        <div class="col-lg-4 col-md-2 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Start Date</mat-label>
                                <input matInput [matDatepicker]="isostartpicker" formControlName="isostartdate"
                                    (dateChange)="isolationdate($event, isostartpicker)">
                                <mat-datepicker-toggle matSuffix [for]="isostartpicker"></mat-datepicker-toggle>
                                <mat-datepicker touchUi #isostartpicker></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-4 col-md-2 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>End Date</mat-label>
                                <input matInput [matDatepicker]="isoendpicker" formControlName="isoenddate">
                                <mat-datepicker-toggle matSuffix [for]="isoendpicker"></mat-datepicker-toggle>
                                <mat-datepicker touchUi #isoendpicker></mat-datepicker>
                            </mat-form-field>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-3 col-md-2 col-sm-12">
                            <mat-card class="quar">
                                <mat-card-header>
                                    Dr Call 
                                </mat-card-header>
                                <div class="p-4">
                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Schedule Date</mat-label>
                                        <input matInput [matDatepicker]="drpicker">
                                        <mat-datepicker-toggle matSuffix [for]="drpicker"></mat-datepicker-toggle>
                                        <mat-datepicker touchUi #drpicker></mat-datepicker>
                                    </mat-form-field>

                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Called Date</mat-label>
                                        <input matInput [matDatepicker]="drspicker">
                                        <mat-datepicker-toggle matSuffix [for]="drspicker"></mat-datepicker-toggle>
                                        <mat-datepicker touchUi #drspicker></mat-datepicker>
                                    </mat-form-field> 
                                </div>
                            </mat-card>
                        </div>

                        <div class="col-lg-3 col-md-2 col-sm-12">
                            <mat-card class="quar">
                                <mat-card-header>
                                    3 Day-Nurse Call
                                </mat-card-header>
                                <div class="p-4">
                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Schedule Date</mat-label>
                                        <input matInput [matDatepicker]="tdpicker">
                                        <mat-datepicker-toggle matSuffix [for]="tdpicker"></mat-datepicker-toggle>
                                        <mat-datepicker touchUi #tdpicker></mat-datepicker>
                                    </mat-form-field> 

                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Call Status</mat-label>
                                        <mat-select>
                                            <mat-option value='p'>Called </mat-option>
                                            <mat-option value='n'> Pending</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Remarks</mat-label>
                                        <textarea matInput></textarea>
                                      </mat-form-field>
                                </div>
                            </mat-card>
                        </div>


                        <div class="col-lg-3 col-md-2 col-sm-12">
                            <mat-card class="quar">
                                <mat-card-header>
                                    4 day PCR
                                </mat-card-header>
                                <div class="p-4">
                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Schedule Date</mat-label>
                                        <input matInput [matDatepicker]="fppicker">
                                        <mat-datepicker-toggle matSuffix [for]="fppicker"></mat-datepicker-toggle>
                                        <mat-datepicker touchUi #fppicker></mat-datepicker>
                                    </mat-form-field>

                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Sampled Date</mat-label>
                                        <input matInput [matDatepicker]="fpspicker">
                                        <mat-datepicker-toggle matSuffix [for]="fpspicker"></mat-datepicker-toggle>
                                        <mat-datepicker touchUi #fpspicker></mat-datepicker>
                                    </mat-form-field> 

                                    
                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Result 4 PCR</mat-label>
                                        <mat-select>
                                            <mat-option value='p'>Positive </mat-option>
                                            <mat-option value='n'> Negative</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </mat-card>
                        </div>

                        <div class="col-lg-3 col-md-2 col-sm-12">
                            <mat-card class="quar">
                                <mat-card-header>
                                   5 Day-Nurse Call
                                </mat-card-header>
                                <div class="p-4">
                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Schedule Date</mat-label>
                                        <input matInput [matDatepicker]="fivepicker">
                                        <mat-datepicker-toggle matSuffix [for]="fivepicker"></mat-datepicker-toggle>
                                        <mat-datepicker touchUi #fivepicker></mat-datepicker>
                                    </mat-form-field> 

                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Call Status</mat-label>
                                        <mat-select>
                                            <mat-option value='p'>Called </mat-option>
                                            <mat-option value='n'> Pending</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Remarks</mat-label>
                                        <textarea matInput></textarea>
                                      </mat-form-field>
                                </div>
                            </mat-card>
                        </div>

                        <div class="col-lg-3 col-md-2 col-sm-12">
                            <mat-card class="quar">
                                <mat-card-header>
                                   6 Day-Nurse Call
                                </mat-card-header>
                                <div class="p-4">
                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Schedule Date</mat-label>
                                        <input matInput [matDatepicker]="sixpicker">
                                        <mat-datepicker-toggle matSuffix [for]="sixpicker"></mat-datepicker-toggle>
                                        <mat-datepicker touchUi #sixpicker></mat-datepicker>
                                    </mat-form-field> 

                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Call Status</mat-label>
                                        <mat-select>
                                            <mat-option value='p'>Called </mat-option>
                                            <mat-option value='n'> Pending</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Remarks</mat-label>
                                        <textarea matInput></textarea>
                                      </mat-form-field>
                                </div>
                            </mat-card>
                        </div>

                        <div class="col-lg-3 col-md-2 col-sm-12">
                            <mat-card class="quar">
                                <mat-card-header>
                                   7 Day-Nurse Call
                                </mat-card-header>
                                <div class="p-4">
                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Schedule Date</mat-label>
                                        <input matInput [matDatepicker]="sdpicker">
                                        <mat-datepicker-toggle matSuffix [for]="sdpicker"></mat-datepicker-toggle>
                                        <mat-datepicker touchUi #sdpicker></mat-datepicker>
                                    </mat-form-field> 

                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Call Status</mat-label>
                                        <mat-select>
                                            <mat-option value='p'>Called </mat-option>
                                            <mat-option value='n'> Pending</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Remarks</mat-label>
                                        <textarea matInput></textarea>
                                      </mat-form-field>
                                </div>
                            </mat-card>
                        </div>

                        <div class="col-lg-3 col-md-2 col-sm-12">
                            <mat-card class="quar">
                                <mat-card-header>
                                    8 day PCR
                                </mat-card-header>
                                <div class="p-4">
                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Schedule Date</mat-label>
                                        <input matInput [matDatepicker]="edppicker">
                                        <mat-datepicker-toggle matSuffix [for]="edppicker"></mat-datepicker-toggle>
                                        <mat-datepicker touchUi #edppicker></mat-datepicker>
                                    </mat-form-field>

                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Called Date</mat-label>
                                        <input matInput [matDatepicker]="edcpicker">
                                        <mat-datepicker-toggle matSuffix [for]="edcpicker"></mat-datepicker-toggle>
                                        <mat-datepicker touchUi #edcpicker></mat-datepicker>
                                    </mat-form-field> 
                                
                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Result 8 PCR</mat-label>
                                        <mat-select>
                                            <mat-option value='p'>Positive </mat-option>
                                            <mat-option value='n'> Negative</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                
                            </mat-card>
                        </div>

                        <div class="col-lg-3 col-md-2 col-sm-12">
                            <mat-card class="quar">
                                <mat-card-header>
                                    9 Day-Nurse Call
                                </mat-card-header>
                                <div class="p-4">
                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Schedule Date</mat-label>
                                        <input matInput [matDatepicker]="nnpicker">
                                        <mat-datepicker-toggle matSuffix [for]="nnpicker"></mat-datepicker-toggle>
                                        <mat-datepicker touchUi #nnpicker></mat-datepicker>
                                    </mat-form-field> 

                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Call Status</mat-label>
                                        <mat-select>
                                            <mat-option value='p'>Called </mat-option>
                                            <mat-option value='n'> Pending</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Remarks</mat-label>
                                        <textarea matInput></textarea>
                                      </mat-form-field>
                                </div>
                            </mat-card>
                        </div>
 

                        <div class="col-lg-4 col-md-2 col-sm-12">
                            <mat-card class="quar">
                                <mat-card-header>
                                    Discharge
                                </mat-card-header>
                                <div class="p-4">
                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Schedule Date</mat-label>
                                        <input matInput [matDatepicker]="isodispicker">
                                        <mat-datepicker-toggle matSuffix [for]="isodispicker"></mat-datepicker-toggle>
                                        <mat-datepicker touchUi #isodispicker></mat-datepicker>
                                    </mat-form-field>
                                </div>
                            </mat-card>
                        </div>
                    </div>

                    <div class="text-end">
                        <button mat-raised-button class="warning-button" matStepperPrevious>Back</button>
                        <!-- <button mat-raised-button class="login-button ml-4" (click)="stepper.reset()">Reset</button> -->
                        <button mat-raised-button class="login-button ml-4" (click)="save()">Save</button>
                    </div>
                </form>
            </mat-step>
        </mat-horizontal-stepper>
    </mat-card>
</div>