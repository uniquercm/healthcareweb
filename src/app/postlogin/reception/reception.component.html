<div class="header">
    <h3>RECEPTION</h3>
</div>


<div class="p-3">

    <mat-card>
        <form [formGroup]="formGroup">
            <div class="row pt-5 pl-5 pr-5">
                <div class="col-lg-4 col-md-2 col-sm-12">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Request/Case Type</mat-label>
                        <input matInput formControlName="crmType" readonly>
                    </mat-form-field>
                </div>
                <div class="col-lg-4 col-md-2 col-sm-12">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>CRM no</mat-label>
                        <input matInput formControlName="crmNo" readonly>
                    </mat-form-field>
                </div>
                <div class="col-lg-4 col-md-2 col-sm-12">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Name</mat-label>
                        <input matInput formControlName="name" readonly>
                    </mat-form-field>
                </div>
                <div class="col-lg-4 col-md-2 col-sm-12">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>EID</mat-label>
                        <input matInput formControlName="eid" readonly>
                    </mat-form-field>
                </div>
                <div class="col-lg-4 col-md-2 col-sm-12">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Mobile No</mat-label>
                        <input matInput formControlName="mobileno" readonly>
                    </mat-form-field>
                </div>
            </div>
        </form>

        <mat-horizontal-stepper labelPosition="bottom" #stepper>
            <mat-step [stepControl]="firstFormGroup">
                <form [formGroup]="firstFormGroup">
                    <ng-template matStepLabel>Address Data</ng-template>
                    <div class="row">
                        <div class="col-lg-4 col-md-2 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Address</mat-label>
                                <textarea matInput formControlName="address"></textarea>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-4 col-md-2 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Land Mark</mat-label>
                                <input matInput formControlName="landmark">
                            </mat-form-field>
                        </div>

                        <div class="ng-autocomplete" class="col-lg-4 col-md-2 col-sm-12">
                            <ng-autocomplete [data]="area" [searchKeyword]="keyword" formControlName="area" placeholder="Enter Area" (selected)="select($event.areaName)" [itemTemplate]="itemTemplate" [notFoundTemplate]="notFoundTemplate">
                            </ng-autocomplete>

                            <ng-template #itemTemplate let-item>
                                <a [innerHTML]="item.areaName"></a>
                            </ng-template>

                            <ng-template #notFoundTemplate let-notFound>
                                <div [innerHTML]="notFound"></div>
                            </ng-template>
                        </div>
                        <div class="col-lg-4 col-md-2 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Region</mat-label>
                                <mat-select formControlName="region">
                                    <mat-option *ngFor="let value of cityarray" [value]="value.cityId">
                                        {{value.cityName}}</mat-option>
                                </mat-select>
                            </mat-form-field>

                        </div>
                        <div class="col-lg-4 col-md-2 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Google Map Link</mat-label>
                                <input matInput formControlName="map">
                            </mat-form-field>
                        </div>
                        <div class="col-ls-4 col-xl-4 col-md-6 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Address Status</mat-label>
                                <mat-select formControlName="addstatus">
                                    <mat-option value="pending">Pending</mat-option>
                                    <mat-option value="completed"> Completed</mat-option>
                                    <mat-option value="closed"> Closed</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="text-end">
                        <button mat-raised-button class="login-button" matStepperNext>Next</button>
                    </div>
                </form>
            </mat-step>
            <mat-step [stepControl]="secondFormGroup">
                <form [formGroup]="secondFormGroup">
                    <ng-template matStepLabel>Home Inmates</ng-template>
                    <div class="row">
                        <div class="col-lg-4 col-md-2 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>No Of Adults</mat-label>
                                <input matInput formControlName="adults">
                            </mat-form-field>
                        </div>
                        <div class="col-lg-4 col-md-2 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>No Of Children</mat-label>
                                <input matInput formControlName="childern">
                            </mat-form-field>
                        </div>
                    </div>

                    <div class="text-end">
                        <button mat-raised-button class="warning-button" matStepperPrevious>Back</button>
                        <button mat-raised-button class="login-button ml-4" matStepperNext>Next</button>
                    </div>
                </form>
            </mat-step>
            <mat-step>
                <ng-template matStepLabel>Service Plan</ng-template>
                <form [formGroup]="thirdFormGroup">
                    <div class="row">
                        <div class="col-ls-4 col-xl-4 col-md-6 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Sticker Application</mat-label>
                                <mat-select formControlName="stickerapp" [disabled]="sappl">
                                    <mat-option value="yes">Yes</mat-option>
                                    <mat-option value="no"> No</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-ls-4 col-xl-4 col-md-6 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Tracker Application</mat-label>
                                <input matInput formControlName="trackerapp">
                            </mat-form-field>
                        </div>
                        <div class="col-ls-4 col-xl-4 col-md-6 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>PCR</mat-label>
                                <input matInput formControlName="pcr">
                            </mat-form-field>
                        </div>
                        <div class="col-ls-4 col-xl-4 col-md-6 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Sticker Removal</mat-label>
                                <mat-select formControlName="stickerrem" [disabled]="srem">
                                    <mat-option value="yes">Yes</mat-option>
                                    <mat-option value="no"> No</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-ls-4 col-xl-4 col-md-6 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Tracker Removal</mat-label>
                                <input matInput formControlName="trackerrem">
                            </mat-form-field>
                        </div>
                        <div class="col-ls-4 col-xl-4 col-md-6 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Remarks</mat-label>
                                <textarea matInput rows="2" formControlName="remark"></textarea>
                            </mat-form-field>
                        </div>
                        <!-- <div class="col-ls-4 col-xl-4 col-md-6 col-sm-12">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Sticker/Tracker Status</mat-label>
                                <mat-select formControlName="stickerstatus" (selectionChange)="statuschange($event)">
                                    <mat-option value="applied">Applied</mat-option>
                                    <mat-option value="removed">Removed </mat-option>
                                    <mat-option value="replace">Replace</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div> -->
                        <div class="col-ls-4 col-xl-4 col-md-6 col-sm-12" *ngIf="(stausvalue==='applied') || (stausvalue==='removed')">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Sticker Applied/Removed No</mat-label>
                                <input matInput formControlName="stickerano">
                            </mat-form-field>
                        </div>
                        <div class="col-ls-4 col-xl-4 col-md-6 col-sm-12" *ngIf="(stausvalue==='applied') || (stausvalue==='removed')">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Sticker Applied/Removed Applied Date</mat-label>
                                <input matInput [matDatepicker]="fpspicker" formControlName="spicker">
                                <mat-datepicker-toggle matSuffix [for]="fpspicker"></mat-datepicker-toggle>
                                <mat-datepicker touchUi #fpspicker></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div class="col-ls-4 col-xl-4 col-md-6 col-sm-12" *ngIf="stausvalue==='replace'">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Sticker Replace No</mat-label>
                                <input matInput formControlName="stickerrno">
                            </mat-form-field>
                        </div>
                        <div class="col-ls-4 col-xl-4 col-md-6 col-sm-12" *ngIf="stausvalue==='replace'">
                            <mat-form-field class="full-width" appearance="outline">
                                <mat-label>Sticker Replace Date</mat-label>
                                <input matInput [matDatepicker]="fpspickers" formControlName="fpspicker">
                                <mat-datepicker-toggle matSuffix [for]="fpspickers"></mat-datepicker-toggle>
                                <mat-datepicker touchUi #fpspickers></mat-datepicker>
                            </mat-form-field>
                        </div>
                    </div>
                </form>
                <div class="text-end">
                    <button mat-raised-button class="warning-button" matStepperPrevious>Back</button>
                    <button mat-raised-button class="login-button ml-4" (click)="save()">Save</button>
                </div>
            </mat-step>
        </mat-horizontal-stepper>
    </mat-card>

</div>